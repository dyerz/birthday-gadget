<?xml version="1.0" encoding="UTF-8"?>
<Module>
<ModulePrefs title="Birthday Gadget" description="Never miss your friends' birthdays again!" author="Adam" >
    <Require feature="analytics" /> 
</ModulePrefs>
<UserPref name="max_add" default_value="5" datatype="hidden" /> 
<Content type="html"><![CDATA[
  <script>
    // Track this gadget using Google Analytics.
    IG_Analytics("UA-310375-4", "/birthday-gadget");
  </script>

  <script type="text/javascript">
    var prefs = new _IG_Prefs(__MODULE_ID__);

    function remove(num){
      thedate=document.getElementById("setDate"+num+"");
      thename=document.getElementById("setName"+num+"");
      thespan=document.getElementById("setSpan"+num+"");
      theform=document.getElementById("setInfo");
      thebr=thespan.nextSibling;
      theform.removeChild(thedate);
      theform.removeChild(thename);
      theform.removeChild(thespan);
      theform.removeChild(thebr);
      if(num>1) test=document.getElementById("setDate"+(num-1)+"");
      else test=theform.firstChild.nextSibling;
      test.onclick=function(){setVars(num-1);}
      if(num-1>0) document.getElementById("setSpan"+(num-1)+"").style.display="";}
    
    function setVars(num){
      theform=document.getElementById("setInfo");
      setLoc=theform.elements[num*2];
      setLoc.onclick="";
      
      
      if(setLoc.value=="YYYY/MM/DD"){
        setLoc.value="";}
      
      if(num<5){
        thebutton=theform.lastChild;
        theform.removeChild(thebutton);
        if(num>0) document.getElementById("setSpan"+(num)+"").style.display="none";
        thebr=document.createElement("br");
        thex=document.createElement("span");
        thex.id="setSpan"+(num + 1)+"";
        thex.innerHTML=" X ";
        thex.onclick=function(){remove(num+1);};
        thespace=document.createTextNode(" ");
        theDate=document.createElement("input");
        theDate.setAttribute("value", "YYYY/MM/DD");
        theDate.setAttribute("id", "setDate"+(num + 1)+"");
        theDate.setAttribute("name", "setDate"+(num + 1)+"");
        theDate.setAttribute("size", "11");
        theDate.onclick=function(){setVars(num+1);};
        theform.appendChild(theDate);
        theform.appendChild(thespace);
        theName=document.createElement("input");
        theName.setAttribute("id", "setName"+(num + 1)+"");
        theName.setAttribute("name", "setName"+(num + 1)+"");
        theform.appendChild(theName);
        theform.appendChild(thex);
        theform.appendChild(thebr);
        theform.appendChild(thebutton);
        
      }
    
    
    }


  </script>
  
  <div id="Entry">
    <form name="setInfo" id="setInfo">
      <input type="text" name="setDate0" value="YYYY/MM/DD" size="11" onclick="javascript:setVars(0);" />
      <input type="text" name="setName0" />
      <br /><input type="button" name="setAdd" value="Add" onClick="" /></form>
  </div>



]]></Content>
</Module>
